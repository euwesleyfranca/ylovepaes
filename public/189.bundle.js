(self.webpackChunkylovepaes=self.webpackChunkylovepaes||[]).push([[189,915],{915:(e,t,r)=>{"use strict";r.r(t),r.d(t,{summaryProductList:()=>i});var n=r(405);const a=document.querySelector("#checkout"),c=document.querySelector("#btn_next"),o=a.querySelector(".close_checkout");function i(e,t){t.forEach((t=>{(0,n._w)(e,"label",`            \n             <small class="title">${t.title}</small>\n             <small class="price">${(0,n.E9)(t.price)}</small>\n             <img id="trash_product_list" src="./assets/images/icons/trash.svg" width="16px" height="16px" alt="trash" />\n            `)}))}c.addEventListener("click",(e=>{a.classList.add("active")})),o.addEventListener("click",(e=>{a.classList.remove("active")})),document.querySelectorAll("#checkout").forEach((e=>{const t=e.querySelector("#credit_card_name"),r=e.querySelector(".name-place");r.innerHTML="";const a=e.querySelector("#credit_card_number"),c=e.querySelector(".number-place");c.innerHTML="";const o=e.querySelector("#credit_card_validate"),i=e.querySelector(".valid-place");i.innerHTML="";const s=e.querySelector("#credit_card_code"),l=e.querySelector(".cod-place");l.innerHTML="";const d=e.querySelector("#insert_the_card");d.innerHTML="Digite os dados do seu cartão";const u=e.querySelector("#btn_insert_card");a.disabled=!0,o.disabled=!0,s.disabled=!0,t.addEventListener("keyup",(e=>{r.innerHTML=e.target.value,d.innerHTML="",a.disabled=!1,0==e.target.value&&(d.innerHTML="Digite os dados do seu cartão",a.disabled=!0)})),a.addEventListener("keyup",(e=>{c.innerHTML=e.target.value,o.disabled=!1,0==e.target.value&&(o.disabled=!0)})),o.addEventListener("keyup",(e=>{i.innerHTML=e.target.value,s.disabled=!1,0==e.target.value&&(s.disabled=!0)})),s.addEventListener("keyup",(e=>{l.innerHTML=e.target.value,u.disabled=!1,0==e.target.value&&(u.disabled=!0)})),e.querySelectorAll("#form").forEach((e=>{e.querySelector("#credit_card_name");const t=e.querySelector("#credit_card_number"),a=e.querySelector("#credit_card_validate"),o=e.querySelector("#credit_card_code"),s=document.querySelector(".dataDisplay").querySelector(".total"),d=document.querySelector("#insert_the_card"),u=e.querySelector("#btn_insert_card");(0,n.S6)(t),(0,n.OC)(a),(0,n.vZ)(o),u.addEventListener("click",(e=>{e.preventDefault(),(0,n.x5)(r,c,i,l,s),setTimeout((()=>{d.innerHTML="processando pagamento..."}),1e3),setTimeout((()=>{d.innerHTML='<img src="./assets/images/icons/approved.svg" width="50px" height="50px" alt="approved icon" /> <span style="color:white;">APROVADO</span>'}),5e3),setTimeout((()=>{d.innerHTML="Agradecemos por escolher a Ylove Pães, bom apetite"}),1e4),setTimeout((()=>{window.location.href="orders.html"}),15e3)}))}))}))},796:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});const n=JSON.parse('{"hosting":{"public":"public","ignore":["firebase.json","**/.*","**/node_modules/**"]},"apiKey":"AIzaSyCvSklZbNE8OCKPy2b726_NVZVJBowYZOg","authDomain":"ylovepaes.firebaseapp.com","databaseURL":"https://ylovepaes-default-rtdb.firebaseio.com","projectId":"ylovepaes","storageBucket":"ylovepaes.appspot.com","messagingSenderId":"1011127287926","appId":"1:1011127287926:web:77dddbbd4402dd82ae5f57","measurementId":"G-WHPDWPKRNF"}');var a=r(503);r(397),r(945),r(550),a.Z.apps.length?a.Z.app():a.Z.initializeApp(n);const c=a.Z},189:(e,t,r)=>{"use strict";r.r(t);var n=r(915),a=r(796),c=r(405);a.Z.auth().onAuthStateChanged((function(e){if(e){e=a.Z.auth().currentUser;let t=[];document.querySelectorAll("#index").forEach((t=>{const n=a.Z.firestore(),c=t.querySelector("#logout"),o=t.querySelector(".username"),s=t.querySelector(".useremail"),l=t.querySelector("#profile-preview");l.src="./assets/images/avatar/avatar.svg",null!=l&&(l.src=e.photoURL),o.innerHTML=e.displayName,s.innerHTML=e.email,c.addEventListener("click",(e=>{a.Z.auth().signOut().then((()=>{window.location.href="index.html"})).catch((e=>{console.log(e)}))})),t.querySelector("#totalfooter").innerHTML="",n.collection("yloveproducts").onSnapshot((e=>{const n=[];e.forEach((e=>{n.push(e.data())})),r(t,n),i(t)}))}));const r=(e,r)=>{const n=e.querySelector(".products");n.innerHTML="",r.forEach((a=>{(0,c.JW)(n,"label",`<div class="item_overlay"></div>\n                <input type="checkbox" name="id" id="check" value="${a.id}" hidden />\n                <img src="${a.image}" height="250px" width="100%" alt="Pão caseiro em São Paulo " />\n             <div>\n                <div class="description">\n                    <p>${a.title}</p>\n                    <small>${a.description}</small>\n                </div>\n                <div class="price">\n                    <p>${a.price}</p>\n                    <small>Reais</small>\n                </div>\n             </div>\n            `).querySelector("[type=checkbox]").addEventListener("change",(n=>{const{checked:a,value:c}=n.target;if(a){const e=r.filter((e=>Number(e.id)===Number(c)))[0];t.push(e.id)}else t=t.filter((e=>Number(e)!==Number(c)));o(e,r)}))}))},o=(e,r)=>{const a=e.querySelector(".summary");a.innerHTML="";const c=t.map((e=>r.filter((t=>+t.id==+e))[0]));(0,n.summaryProductList)(a,c),i(c)},i=e=>{const r=checkout.querySelector(".total");r.innerHTML="";const n=document.querySelector("#container").querySelector("#btn_next");n.disabled=!0;const a=t.map((t=>e.filter((e=>+e.id==+t))[0])).reduce(((e,t)=>Number(e)+Number(t.price)),0);r.innerHTML=(0,c.E9)(a),totalfooter.innerHTML=" Total: "+(0,c.E9)(a),a>0&&(n.disabled=!1)}}else window.location.href="login.html"}))},405:(e,t,r)=>{"use strict";r.d(t,{X7:()=>a,JW:()=>c,_w:()=>o,E9:()=>i,$4:()=>s,FZ:()=>l,x5:()=>d,S6:()=>u,OC:()=>p,vZ:()=>m});var n=r(860);function a(e){const t={};return e.querySelectorAll("[name]").forEach((e=>{t[e.name]=e.value})),t}function c(e,t,r){const n=document.createElement(t);return n.classList.add("item"),n.innerHTML=r,e.append(n),n}function o(e,t,r){const n=document.createElement(t);return n.classList.add("summary_details"),n.innerHTML=r,e.append(n),n}function i(e){return parseFloat(e).toLocaleString("pt-br",{style:"currency",currency:"BRL"})}function s(e){e.querySelector("#error").style.display="none"}function l(e,t){const r=e.querySelector("#error");document.querySelector(".message").innerHTML=t.message,r.style.display="block"}function d(e,t,r,n,a){e.innerHTML="",t.innerHTML="",r.innerHTML="",n.innerHTML="",a.innerHTML=""}function u(e){new n.ZP(e,{mask:"0000 0000 0000 0000"})}function p(e){new n.ZP(e,{mask:"00/00"})}function m(e){new n.ZP(e,{mask:"000[0]"})}}}]);